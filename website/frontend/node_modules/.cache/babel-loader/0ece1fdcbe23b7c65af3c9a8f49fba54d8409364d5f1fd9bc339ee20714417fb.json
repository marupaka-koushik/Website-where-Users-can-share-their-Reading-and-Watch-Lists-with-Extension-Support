{"ast":null,"code":"var _jsxFileName = \"/Users/koushikmarupaka/Desktop/summarise/website/frontend/src/pages/DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { BookOpen, TrendingUp, Users, Plus } from 'lucide-react';\nimport axios from 'axios';\nimport './DashboardPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    username\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [content, setContent] = useState([]);\n  const [selectedContent, setSelectedContent] = useState(null);\n  const [loadingSummary, setLoadingSummary] = useState(false);\n  const [stats, setStats] = useState({\n    totalContent: 0,\n    totalSummaries: 0,\n    followerCount: 0,\n    followingCount: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n  useEffect(() => {\n    // Redirect legacy /dashboard route to user-specific route\n    if (location.pathname === '/dashboard' && isAuthenticated && user !== null && user !== void 0 && user.username) {\n      navigate(`/u/${user.username}`, {\n        replace: true\n      });\n      return;\n    }\n\n    // Validate that URL username matches logged-in user (extra security layer)\n    if (username && isAuthenticated && user !== null && user !== void 0 && user.username && username !== user.username) {\n      navigate(`/u/${user.username}`, {\n        replace: true\n      });\n      return;\n    }\n    const loadDashboardData = async () => {\n      if (isAuthenticated) {\n        await fetchUserContent();\n        await fetchUserStats();\n      }\n    };\n    loadDashboardData();\n  }, [isAuthenticated, user, navigate, location.pathname, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchUserContent = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/content`);\n      setContent(response.data.content || []);\n    } catch (error) {\n      console.error('Error fetching content:', error);\n    }\n  };\n  const fetchUserStats = async () => {\n    try {\n      // Since we have user stats in the user object, we can use those\n      if (user) {\n        var _user$stats, _user$stats2;\n        setStats({\n          totalContent: ((_user$stats = user.stats) === null || _user$stats === void 0 ? void 0 : _user$stats.totalContent) || 0,\n          totalSummaries: ((_user$stats2 = user.stats) === null || _user$stats2 === void 0 ? void 0 : _user$stats2.totalSummaries) || 0,\n          followerCount: user.followerCount || 0,\n          followingCount: user.followingCount || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleContentClick = async contentId => {\n    try {\n      const response = await axios.get(`${API_URL}/content/${contentId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setSelectedContent(response.data.content);\n    } catch (error) {\n      console.error('Error fetching content details:', error);\n    }\n  };\n  const closeContentModal = () => {\n    setSelectedContent(null);\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-required\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Please log in to access your dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading your dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Welcome back, \", (user === null || user === void 0 ? void 0 : user.fullName) || (user === null || user === void 0 ? void 0 : user.username), \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Here's what's happening with your content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"install-extension\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Install Chrome Extension to start adding content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalSummaries\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Summaries Generated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.followerCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Followers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.followingCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recent Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), content.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-grid\",\n          children: content.slice(0, 6).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-card\",\n            onClick: () => handleContentClick(item._id),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"content-source\",\n                children: item.siteName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-preview\",\n              children: (() => {\n                // Handle summary object vs string\n                if (item.summary) {\n                  if (typeof item.summary === 'string') {\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [item.summary.substring(0, 150), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 34\n                    }, this);\n                  } else if (item.summary.text) {\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [item.summary.text.substring(0, 150), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 34\n                    }, this);\n                  }\n                }\n                // Fallback to content if no valid summary\n                if (item.content && typeof item.content === 'string') {\n                  return /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [item.content.substring(0, 150), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 32\n                  }, this);\n                }\n                return /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No preview available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 30\n                }, this);\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"content-date\",\n                children: new Date(item.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: item.url,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"content-link\",\n                onClick: e => e.stopPropagation(),\n                children: \"View Original\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No content yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Install our Chrome extension and start extracting content from your favorite websites!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), selectedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close-modal\",\n            onClick: closeContentModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: selectedContent.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"content-source\",\n              children: selectedContent.siteName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-details\",\n              children: [selectedContent.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedContent.imageUrl,\n                alt: selectedContent.title,\n                className: \"content-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"content-date\",\n                  children: new Date(selectedContent.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content-summary\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Summary:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 23\n                  }, this), (() => {\n                    // Handle summary object vs string\n                    if (selectedContent.summary) {\n                      if (typeof selectedContent.summary === 'string') {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"summary-text\",\n                          children: selectedContent.summary\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 36\n                        }, this);\n                      } else if (selectedContent.summary.text) {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"summary-text\",\n                          children: selectedContent.summary.text\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 246,\n                          columnNumber: 36\n                        }, this);\n                      } else if (selectedContent.summary.status === 'not_requested') {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"no-summary-note\",\n                          children: \"No summary available\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 248,\n                          columnNumber: 36\n                        }, this);\n                      }\n                    }\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"no-summary-note\",\n                      children: \"No summary available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 32\n                    }, this);\n                  })(), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      marginTop: '20px'\n                    },\n                    children: \"Full Content:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"full-content\",\n                    children: selectedContent.content || 'No content available'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: selectedContent.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"content-link\",\n                  children: \"View Full Content\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"6UongMnVKqHHGh3Z1krmHZxYMpI=\", false, function () {\n  return [useAuth, useParams, useNavigate, useLocation];\n});\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useParams","useNavigate","useLocation","BookOpen","TrendingUp","Users","Plus","axios","jsxDEV","_jsxDEV","DashboardPage","_s","user","isAuthenticated","username","navigate","location","content","setContent","selectedContent","setSelectedContent","loadingSummary","setLoadingSummary","stats","setStats","totalContent","totalSummaries","followerCount","followingCount","loading","setLoading","API_URL","process","env","REACT_APP_API_URL","pathname","replace","loadDashboardData","fetchUserContent","fetchUserStats","response","get","data","error","console","_user$stats","_user$stats2","handleContentClick","contentId","headers","localStorage","getItem","closeContentModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fullName","size","length","slice","map","item","onClick","_id","style","cursor","title","siteName","summary","substring","text","Date","createdAt","toLocaleDateString","href","url","target","rel","e","stopPropagation","imageUrl","src","alt","status","marginTop","_c","$RefreshReg$"],"sources":["/Users/koushikmarupaka/Desktop/summarise/website/frontend/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { BookOpen, TrendingUp, Users, Plus } from 'lucide-react';\nimport axios from 'axios';\nimport './DashboardPage.css';\n\nconst DashboardPage = () => {\n  const { user, isAuthenticated } = useAuth();\n  const { username } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [content, setContent] = useState([]);\n  const [selectedContent, setSelectedContent] = useState(null);\n  const [loadingSummary, setLoadingSummary] = useState(false);\n  const [stats, setStats] = useState({\n    totalContent: 0,\n    totalSummaries: 0,\n    followerCount: 0,\n    followingCount: 0\n  });\n  const [loading, setLoading] = useState(true);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\n  useEffect(() => {\n    // Redirect legacy /dashboard route to user-specific route\n    if (location.pathname === '/dashboard' && isAuthenticated && user?.username) {\n      navigate(`/u/${user.username}`, { replace: true });\n      return;\n    }\n\n    // Validate that URL username matches logged-in user (extra security layer)\n    if (username && isAuthenticated && user?.username && username !== user.username) {\n      navigate(`/u/${user.username}`, { replace: true });\n      return;\n    }\n\n    const loadDashboardData = async () => {\n      if (isAuthenticated) {\n        await fetchUserContent();\n        await fetchUserStats();\n      }\n    };\n    \n    loadDashboardData();\n  }, [isAuthenticated, user, navigate, location.pathname, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchUserContent = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/content`);\n      setContent(response.data.content || []);\n    } catch (error) {\n      console.error('Error fetching content:', error);\n    }\n  };\n\n  const fetchUserStats = async () => {\n    try {\n      // Since we have user stats in the user object, we can use those\n      if (user) {\n        setStats({\n          totalContent: user.stats?.totalContent || 0,\n          totalSummaries: user.stats?.totalSummaries || 0,\n          followerCount: user.followerCount || 0,\n          followingCount: user.followingCount || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleContentClick = async (contentId) => {\n    try {\n      const response = await axios.get(`${API_URL}/content/${contentId}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setSelectedContent(response.data.content);\n    } catch (error) {\n      console.error('Error fetching content details:', error);\n    }\n  };\n\n  const closeContentModal = () => {\n    setSelectedContent(null);\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"dashboard-page\">\n        <div className=\"auth-required\">\n          <h2>Please log in to access your dashboard</h2>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"dashboard-page\">\n        <div className=\"loading\">Loading your dashboard...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-page\">\n      <div className=\"dashboard-container\">\n        {/* Header */}\n        <div className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <h1>Welcome back, {user?.fullName || user?.username}!</h1>\n            <p>Here's what's happening with your content</p>\n          </div>\n          <div className=\"header-actions\">\n            <div className=\"install-extension\">\n              <Plus size={20} />\n              <span>Install Chrome Extension to start adding content</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <BookOpen className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.totalContent}</h3>\n              <p>Total Content</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <TrendingUp className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.totalSummaries}</h3>\n              <p>Summaries Generated</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <Users className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.followerCount}</h3>\n              <p>Followers</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <Users className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.followingCount}</h3>\n              <p>Following</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Content */}\n        <div className=\"dashboard-section\">\n          <h2>Recent Content</h2>\n          {content.length > 0 ? (\n            <div className=\"content-grid\">\n              {content.slice(0, 6).map((item) => (\n                <div \n                  key={item._id} \n                  className=\"content-card\" \n                  onClick={() => handleContentClick(item._id)}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div className=\"content-header\">\n                    <h3>{item.title}</h3>\n                    <span className=\"content-source\">{item.siteName}</span>\n                  </div>\n                  <div className=\"content-preview\">\n                    {(() => {\n                      // Handle summary object vs string\n                      if (item.summary) {\n                        if (typeof item.summary === 'string') {\n                          return <p>{item.summary.substring(0, 150)}...</p>;\n                        } else if (item.summary.text) {\n                          return <p>{item.summary.text.substring(0, 150)}...</p>;\n                        }\n                      }\n                      // Fallback to content if no valid summary\n                      if (item.content && typeof item.content === 'string') {\n                        return <p>{item.content.substring(0, 150)}...</p>;\n                      }\n                      return <p>No preview available</p>;\n                    })()}\n                  </div>\n                  <div className=\"content-footer\">\n                    <span className=\"content-date\">\n                      {new Date(item.createdAt).toLocaleDateString()}\n                    </span>\n                    <a \n                      href={item.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"content-link\"\n                      onClick={(e) => e.stopPropagation()}\n                    >\n                      View Original\n                    </a>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <BookOpen size={48} />\n              <h3>No content yet</h3>\n              <p>Install our Chrome extension and start extracting content from your favorite websites!</p>\n            </div>\n          )}\n        </div>\n\n        {/* Content Modal */}\n        {selectedContent && (\n          <div className=\"content-modal\">\n            <div className=\"modal-content\">\n              <span className=\"close-modal\" onClick={closeContentModal}>&times;</span>\n              <h2>{selectedContent.title}</h2>\n              <div className=\"modal-body\">\n                <p className=\"content-source\">{selectedContent.siteName}</p>\n                <div className=\"content-details\">\n                  {selectedContent.imageUrl && (\n                    <img src={selectedContent.imageUrl} alt={selectedContent.title} className=\"content-image\" />\n                  )}\n                  <div className=\"content-text\">\n                    <p className=\"content-date\">\n                      {new Date(selectedContent.createdAt).toLocaleDateString()}\n                    </p>\n                    <div className=\"content-summary\">\n                      <h4>Summary:</h4>\n                      {(() => {\n                        // Handle summary object vs string\n                        if (selectedContent.summary) {\n                          if (typeof selectedContent.summary === 'string') {\n                            return <div className=\"summary-text\">{selectedContent.summary}</div>;\n                          } else if (selectedContent.summary.text) {\n                            return <div className=\"summary-text\">{selectedContent.summary.text}</div>;\n                          } else if (selectedContent.summary.status === 'not_requested') {\n                            return <div className=\"no-summary-note\">No summary available</div>;\n                          }\n                        }\n                        return <div className=\"no-summary-note\">No summary available</div>;\n                      })()}\n                      \n                      <h4 style={{ marginTop: '20px' }}>Full Content:</h4>\n                      <div className=\"full-content\">\n                        {selectedContent.content || 'No content available'}\n                      </div>\n                    </div>\n                    <a \n                      href={selectedContent.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"content-link\"\n                    >\n                      View Full Content\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}