{"ast":null,"code":"var _jsxFileName = \"/Users/koushikmarupaka/Desktop/summarise/website/frontend/src/pages/DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { BookOpen, TrendingUp, Users, Plus, Trash2 } from 'lucide-react';\nimport axios from 'axios';\nimport './DashboardPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    username\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [content, setContent] = useState([]);\n  const [selectedContent, setSelectedContent] = useState(null);\n  const [loadingSummary, setLoadingSummary] = useState(false);\n  const [stats, setStats] = useState({\n    totalContent: 0,\n    totalSummaries: 0,\n    followerCount: 0,\n    followingCount: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n  useEffect(() => {\n    // Redirect legacy /dashboard route to user-specific route\n    if (location.pathname === '/dashboard' && isAuthenticated && user !== null && user !== void 0 && user.username) {\n      navigate(`/u/${user.username}`, {\n        replace: true\n      });\n      return;\n    }\n\n    // Validate that URL username matches logged-in user (extra security layer)\n    if (username && isAuthenticated && user !== null && user !== void 0 && user.username && username !== user.username) {\n      navigate(`/u/${user.username}`, {\n        replace: true\n      });\n      return;\n    }\n    const loadDashboardData = async () => {\n      if (isAuthenticated) {\n        await fetchUserContent();\n        await fetchUserStats();\n      }\n    };\n    loadDashboardData();\n  }, [isAuthenticated, user, navigate, location.pathname, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchUserContent = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/content`);\n      setContent(response.data.content || []);\n    } catch (error) {\n      console.error('Error fetching content:', error);\n    }\n  };\n  const fetchUserStats = async () => {\n    try {\n      // Since we have user stats in the user object, we can use those\n      if (user) {\n        var _user$stats, _user$stats2;\n        setStats({\n          totalContent: ((_user$stats = user.stats) === null || _user$stats === void 0 ? void 0 : _user$stats.totalContent) || 0,\n          totalSummaries: ((_user$stats2 = user.stats) === null || _user$stats2 === void 0 ? void 0 : _user$stats2.totalSummaries) || 0,\n          followerCount: user.followerCount || 0,\n          followingCount: user.followingCount || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleContentClick = async contentId => {\n    try {\n      const response = await axios.get(`${API_URL}/content/${contentId}`, {\n        headers: {\n          'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setSelectedContent(response.data.content);\n    } catch (error) {\n      console.error('Error fetching content details:', error);\n    }\n  };\n  const closeContentModal = () => {\n    setSelectedContent(null);\n  };\n  const regenerateSummary = async contentId => {\n    try {\n      setLoadingSummary(true);\n      const response = await axios.post(`${API_URL}/content/${contentId}/summarize`, {\n        length: 'medium'\n      }, {\n        headers: {\n          'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n\n      // Update the selected content with new summary\n      setSelectedContent(prev => ({\n        ...prev,\n        summary: response.data.summary\n      }));\n\n      // Also update the content list\n      setContent(prev => prev.map(item => item._id === contentId ? {\n        ...item,\n        summary: response.data.summary\n      } : item));\n    } catch (error) {\n      console.error('Error regenerating summary:', error);\n      alert('Failed to regenerate summary. Please try again.');\n    } finally {\n      setLoadingSummary(false);\n    }\n  };\n  const deleteContent = async contentId => {\n    if (window.confirm('Are you sure you want to delete this content?')) {\n      try {\n        await axios.delete(`${API_URL}/content/${contentId}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        // Remove the deleted content from state\n        setContent(prev => prev.filter(item => item._id !== contentId));\n\n        // If the deleted content is currently selected, close the modal\n        if ((selectedContent === null || selectedContent === void 0 ? void 0 : selectedContent._id) === contentId) {\n          setSelectedContent(null);\n        }\n        alert('Content deleted successfully');\n      } catch (error) {\n        console.error('Error deleting content:', error);\n        alert('Failed to delete content. Please try again.');\n      }\n    }\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-required\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Please log in to access your dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading your dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Welcome back, \", (user === null || user === void 0 ? void 0 : user.fullName) || (user === null || user === void 0 ? void 0 : user.username), \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Here's what's happening with your content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"install-extension\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Install Chrome Extension to start adding content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.totalSummaries\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Summaries Generated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.followerCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Followers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"stat-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.followingCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recent Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), content.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-grid\",\n          children: content.slice(0, 6).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-card\",\n            onClick: () => handleContentClick(item._id),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content-title-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"content-source\",\n                  children: item.siteName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"content-delete-btn\",\n                onClick: e => {\n                  e.stopPropagation();\n                  deleteContent(item._id);\n                },\n                title: \"Delete content\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-preview\",\n              children: (() => {\n                // Handle summary object vs string\n                if (item.summary) {\n                  if (typeof item.summary === 'string') {\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [item.summary.substring(0, 150), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 34\n                    }, this);\n                  } else if (item.summary.text) {\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [item.summary.text.substring(0, 150), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 34\n                    }, this);\n                  }\n                }\n                // Fallback to content if no valid summary\n                if (item.content && typeof item.content === 'string') {\n                  return /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [item.content.substring(0, 150), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 32\n                  }, this);\n                }\n                return /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No preview available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 30\n                }, this);\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"content-date\",\n                children: new Date(item.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: item.url,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"content-link\",\n                onClick: e => e.stopPropagation(),\n                children: \"View Original\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No content yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Install our Chrome extension and start extracting content from your favorite websites!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), selectedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: selectedContent.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"modal-delete-btn\",\n                onClick: () => deleteContent(selectedContent._id),\n                title: \"Delete content\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"close-modal\",\n                onClick: closeContentModal,\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"content-source\",\n              children: selectedContent.siteName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-details\",\n              children: [selectedContent.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedContent.imageUrl,\n                alt: selectedContent.title,\n                className: \"content-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"content-date\",\n                  children: new Date(selectedContent.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content-summary\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"summary-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"AI Summary:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"regenerate-summary-btn\",\n                      onClick: () => regenerateSummary(selectedContent._id),\n                      disabled: loadingSummary,\n                      children: loadingSummary ? 'Generating...' : '🔄 Regenerate'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this), (() => {\n                    // Handle summary object vs string\n                    if (selectedContent.summary) {\n                      if (typeof selectedContent.summary === 'string') {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"summary-text\",\n                          children: selectedContent.summary\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 333,\n                          columnNumber: 36\n                        }, this);\n                      } else if (selectedContent.summary.text) {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"summary-text\",\n                          children: [selectedContent.summary.text, /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"summary-meta\",\n                            children: /*#__PURE__*/_jsxDEV(\"small\", {\n                              children: [\"Generated \", selectedContent.summary.generatedAt ? new Date(selectedContent.summary.generatedAt).toLocaleString() : 'recently', \" \\u2022 Status: \", selectedContent.summary.status]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 339,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 338,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 336,\n                          columnNumber: 31\n                        }, this);\n                      } else if (selectedContent.summary.status === 'not_requested') {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"no-summary-note\",\n                          children: \"No summary available\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 349,\n                          columnNumber: 36\n                        }, this);\n                      }\n                    }\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"no-summary-note\",\n                      children: \"No summary available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 32\n                    }, this);\n                  })(), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      marginTop: '20px'\n                    },\n                    children: \"Full Content:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"full-content\",\n                    children: selectedContent.content || 'No content available'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: selectedContent.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"content-link\",\n                  children: \"View Full Content\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"6UongMnVKqHHGh3Z1krmHZxYMpI=\", false, function () {\n  return [useAuth, useParams, useNavigate, useLocation];\n});\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useParams","useNavigate","useLocation","BookOpen","TrendingUp","Users","Plus","Trash2","axios","jsxDEV","_jsxDEV","DashboardPage","_s","user","isAuthenticated","username","navigate","location","content","setContent","selectedContent","setSelectedContent","loadingSummary","setLoadingSummary","stats","setStats","totalContent","totalSummaries","followerCount","followingCount","loading","setLoading","API_URL","process","env","REACT_APP_API_URL","pathname","replace","loadDashboardData","fetchUserContent","fetchUserStats","response","get","data","error","console","_user$stats","_user$stats2","handleContentClick","contentId","headers","sessionStorage","getItem","closeContentModal","regenerateSummary","post","length","prev","summary","map","item","_id","alert","deleteContent","window","confirm","delete","localStorage","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fullName","size","slice","onClick","style","cursor","title","siteName","e","stopPropagation","substring","text","Date","createdAt","toLocaleDateString","href","url","target","rel","imageUrl","src","alt","disabled","generatedAt","toLocaleString","status","marginTop","_c","$RefreshReg$"],"sources":["/Users/koushikmarupaka/Desktop/summarise/website/frontend/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { BookOpen, TrendingUp, Users, Plus, Trash2 } from 'lucide-react';\nimport axios from 'axios';\nimport './DashboardPage.css';\n\nconst DashboardPage = () => {\n  const { user, isAuthenticated } = useAuth();\n  const { username } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [content, setContent] = useState([]);\n  const [selectedContent, setSelectedContent] = useState(null);\n  const [loadingSummary, setLoadingSummary] = useState(false);\n  const [stats, setStats] = useState({\n    totalContent: 0,\n    totalSummaries: 0,\n    followerCount: 0,\n    followingCount: 0\n  });\n  const [loading, setLoading] = useState(true);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\n  useEffect(() => {\n    // Redirect legacy /dashboard route to user-specific route\n    if (location.pathname === '/dashboard' && isAuthenticated && user?.username) {\n      navigate(`/u/${user.username}`, { replace: true });\n      return;\n    }\n\n    // Validate that URL username matches logged-in user (extra security layer)\n    if (username && isAuthenticated && user?.username && username !== user.username) {\n      navigate(`/u/${user.username}`, { replace: true });\n      return;\n    }\n\n    const loadDashboardData = async () => {\n      if (isAuthenticated) {\n        await fetchUserContent();\n        await fetchUserStats();\n      }\n    };\n    \n    loadDashboardData();\n  }, [isAuthenticated, user, navigate, location.pathname, username]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchUserContent = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/content`);\n      setContent(response.data.content || []);\n    } catch (error) {\n      console.error('Error fetching content:', error);\n    }\n  };\n\n  const fetchUserStats = async () => {\n    try {\n      // Since we have user stats in the user object, we can use those\n      if (user) {\n        setStats({\n          totalContent: user.stats?.totalContent || 0,\n          totalSummaries: user.stats?.totalSummaries || 0,\n          followerCount: user.followerCount || 0,\n          followingCount: user.followingCount || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleContentClick = async (contentId) => {\n    try {\n      const response = await axios.get(`${API_URL}/content/${contentId}`, {\n        headers: {\n          'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      setSelectedContent(response.data.content);\n    } catch (error) {\n      console.error('Error fetching content details:', error);\n    }\n  };\n\n  const closeContentModal = () => {\n    setSelectedContent(null);\n  };\n\n  const regenerateSummary = async (contentId) => {\n    try {\n      setLoadingSummary(true);\n      const response = await axios.post(`${API_URL}/content/${contentId}/summarize`, {\n        length: 'medium'\n      }, {\n        headers: {\n          'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n        }\n      });\n      \n      // Update the selected content with new summary\n      setSelectedContent(prev => ({\n        ...prev,\n        summary: response.data.summary\n      }));\n      \n      // Also update the content list\n      setContent(prev => prev.map(item => \n        item._id === contentId \n          ? { ...item, summary: response.data.summary }\n          : item\n      ));\n      \n    } catch (error) {\n      console.error('Error regenerating summary:', error);\n      alert('Failed to regenerate summary. Please try again.');\n    } finally {\n      setLoadingSummary(false);\n    }\n  };\n\n  const deleteContent = async (contentId) => {\n    if (window.confirm('Are you sure you want to delete this content?')) {\n      try {\n        await axios.delete(`${API_URL}/content/${contentId}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        \n        // Remove the deleted content from state\n        setContent(prev => prev.filter(item => item._id !== contentId));\n        \n        // If the deleted content is currently selected, close the modal\n        if (selectedContent?._id === contentId) {\n          setSelectedContent(null);\n        }\n        \n        alert('Content deleted successfully');\n      } catch (error) {\n        console.error('Error deleting content:', error);\n        alert('Failed to delete content. Please try again.');\n      }\n    }\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"dashboard-page\">\n        <div className=\"auth-required\">\n          <h2>Please log in to access your dashboard</h2>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"dashboard-page\">\n        <div className=\"loading\">Loading your dashboard...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-page\">\n      <div className=\"dashboard-container\">\n        {/* Header */}\n        <div className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <h1>Welcome back, {user?.fullName || user?.username}!</h1>\n            <p>Here's what's happening with your content</p>\n          </div>\n          <div className=\"header-actions\">\n            <div className=\"install-extension\">\n              <Plus size={20} />\n              <span>Install Chrome Extension to start adding content</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <BookOpen className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.totalContent}</h3>\n              <p>Total Content</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <TrendingUp className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.totalSummaries}</h3>\n              <p>Summaries Generated</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <Users className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.followerCount}</h3>\n              <p>Followers</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <Users className=\"stat-icon\" />\n            <div className=\"stat-info\">\n              <h3>{stats.followingCount}</h3>\n              <p>Following</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Content */}\n        <div className=\"dashboard-section\">\n          <h2>Recent Content</h2>\n          {content.length > 0 ? (\n            <div className=\"content-grid\">\n              {content.slice(0, 6).map((item) => (\n                <div \n                  key={item._id} \n                  className=\"content-card\" \n                  onClick={() => handleContentClick(item._id)}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div className=\"content-header\">\n                    <div className=\"content-title-section\">\n                      <h3>{item.title}</h3>\n                      <span className=\"content-source\">{item.siteName}</span>\n                    </div>\n                    <button \n                      className=\"content-delete-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteContent(item._id);\n                      }}\n                      title=\"Delete content\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                  <div className=\"content-preview\">\n                    {(() => {\n                      // Handle summary object vs string\n                      if (item.summary) {\n                        if (typeof item.summary === 'string') {\n                          return <p>{item.summary.substring(0, 150)}...</p>;\n                        } else if (item.summary.text) {\n                          return <p>{item.summary.text.substring(0, 150)}...</p>;\n                        }\n                      }\n                      // Fallback to content if no valid summary\n                      if (item.content && typeof item.content === 'string') {\n                        return <p>{item.content.substring(0, 150)}...</p>;\n                      }\n                      return <p>No preview available</p>;\n                    })()}\n                  </div>\n                  <div className=\"content-footer\">\n                    <span className=\"content-date\">\n                      {new Date(item.createdAt).toLocaleDateString()}\n                    </span>\n                    <a \n                      href={item.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"content-link\"\n                      onClick={(e) => e.stopPropagation()}\n                    >\n                      View Original\n                    </a>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <BookOpen size={48} />\n              <h3>No content yet</h3>\n              <p>Install our Chrome extension and start extracting content from your favorite websites!</p>\n            </div>\n          )}\n        </div>\n\n        {/* Content Modal */}\n        {selectedContent && (\n          <div className=\"content-modal\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h2>{selectedContent.title}</h2>\n                <div className=\"modal-header-actions\">\n                  <button \n                    className=\"modal-delete-btn\"\n                    onClick={() => deleteContent(selectedContent._id)}\n                    title=\"Delete content\"\n                  >\n                    <Trash2 size={18} />\n                  </button>\n                  <span className=\"close-modal\" onClick={closeContentModal}>&times;</span>\n                </div>\n              </div>\n              <div className=\"modal-body\">\n                <p className=\"content-source\">{selectedContent.siteName}</p>\n                <div className=\"content-details\">\n                  {selectedContent.imageUrl && (\n                    <img src={selectedContent.imageUrl} alt={selectedContent.title} className=\"content-image\" />\n                  )}\n                  <div className=\"content-text\">\n                    <p className=\"content-date\">\n                      {new Date(selectedContent.createdAt).toLocaleDateString()}\n                    </p>\n                    <div className=\"content-summary\">\n                      <div className=\"summary-header\">\n                        <h4>AI Summary:</h4>\n                        <button \n                          className=\"regenerate-summary-btn\"\n                          onClick={() => regenerateSummary(selectedContent._id)}\n                          disabled={loadingSummary}\n                        >\n                          {loadingSummary ? 'Generating...' : '🔄 Regenerate'}\n                        </button>\n                      </div>\n                      {(() => {\n                        // Handle summary object vs string\n                        if (selectedContent.summary) {\n                          if (typeof selectedContent.summary === 'string') {\n                            return <div className=\"summary-text\">{selectedContent.summary}</div>;\n                          } else if (selectedContent.summary.text) {\n                            return (\n                              <div className=\"summary-text\">\n                                {selectedContent.summary.text}\n                                <div className=\"summary-meta\">\n                                  <small>\n                                    Generated {selectedContent.summary.generatedAt ? \n                                      new Date(selectedContent.summary.generatedAt).toLocaleString() : \n                                      'recently'\n                                    } • Status: {selectedContent.summary.status}\n                                  </small>\n                                </div>\n                              </div>\n                            );\n                          } else if (selectedContent.summary.status === 'not_requested') {\n                            return <div className=\"no-summary-note\">No summary available</div>;\n                          }\n                        }\n                        return <div className=\"no-summary-note\">No summary available</div>;\n                      })()}\n                      \n                      <h4 style={{ marginTop: '20px' }}>Full Content:</h4>\n                      <div className=\"full-content\">\n                        {selectedContent.content || 'No content available'}\n                      </div>\n                    </div>\n                    <a \n                      href={selectedContent.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"content-link\"\n                    >\n                      View Full Content\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}